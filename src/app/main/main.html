<div class="wrapper wrapper-content  animated fadeInRight">
  <div class="row">
    <div class="col-sm-12">
      <div class="tabs-container">

        <uib-tabset>
          <uib-tab heading="Create MFI">
            <div class="panel-body">
              <form id="form" name="MFIForm" class="wizard-big">
                <fieldset>
                  <div class="row">
                    <div class="col-lg-6">
                      <div class="form-group">
                        <label>MFI Name *</label>
                        <input id="name" name="name" ng-model="vm.MFI.name" type="text" class="form-control required">
                      </div>
                      <div class="form-group">
                        <label>Location *</label>
                        <input id="location" name="location" ng-model="vm.MFI.location" type="text" class="form-control required">
                      </div>
                      <div class="form-group">
                        <label>Logo *</label>
                        <div class="input-group">
                          <input type="text" class="form-control" placeholder="{{vm.picFile.name?vm.picFile.name:vm.MFI.logo}}" />
                          <span class="input-group-btn">
                            <span class="btn btn-secondary btn-file">
                              <span class="fa fa-picture-o"></span>
                              <input type="file" ngf-select ng-model="vm.picFile" name="file" accept="image/*" ngf-max-size="2MB" required ngf-model-invalid="errorFile">
                            </span>
                          </span>

                        </div>
                      </div>
                      <div class="form-group">
                        <label>Establishment Year *</label>
                        <p class="input-group">
                          <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="vm.MFI.establishment_year" is-open="popup1.opened"
                            datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats"
                          />
                          <span class="input-group-btn">
                            <button type="button" class="btn btn-default" ng-click="open1()">
                              <i class="glyphicon glyphicon-calendar"></i>
                            </button>
                          </span>
                        </p>
                      </div>
                    </div>
                    <div class="col-lg-6">
                      <div class="form-group">
                        <label class="font-normal">Website</label>
                        <input id="website" name="website" ng-model="vm.MFI.website_link" type="text" class="form-control">
                      </div>
                      <div class="form-group">
                        <label class="font-normal">Contact Person</label>
                        <input id="contactPerson" name="contactPerson" ng-model="vm.MFI.contact_person" type="text" class="form-control">
                      </div>

                      <div class="form-group">
                        <label class="font-normal">Email </label>
                        <input id="email" name="email" type="email" ng-model="vm.MFI.email" class="form-control required email">
                      </div>
                      <div class="form-group">
                        <label class="font-normal">Phone number</label>
                        <input id="phoneNumber" name="phoneNumber" ng-model="vm.MFI.phone" type="number" class="form-control">
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12">
                      <a class="btn btn-primary pull-right" type="button" ng-click="vm.saveChanges()">Save changes</a>
                    </div>
                  </div>
                </fieldset>
              </form>
            </div>
          </uib-tab>

          <uib-tab heading="Create Branches">

            <div class="panel-body">
              <h2>Branches</h2>
              <p>
                You have successfully created an MFI. Head Office branch is created by default. Click on Add branch to add more.
                <button ng-click="vm.addBranch()" type="button" class="btn btn btn-primary pull-right">
                  <i class="fa fa-plus"></i> Add
                </button>
              </p>
              <div class="clients-list">
                <div class="full-height-scroll" full-scroll>

                  <table st-table="vm.branches" st-safe-src="vm.branchesCopy" class="table table-striped">
                    <thead>
                      <tr>
                        <th st-sort="name">#</th>
                        <th st-sort="name">Name</th>
                        <th st-sort="location">Location</th>
                        <th st-sort="opening_date">Opening Date</th>
                        <th st-sort="branch_type">Branch Type</th>
                        <th st-sort="phone">Phone</th>
                        <th st-sort="email">email</th>
                        <th></th>
                      </tr>
                      <tr>
                        <th colspan="8">
                          <input st-search="" class="form-control" placeholder="search ..." type="text" />
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="branch in vm.branches">
                        <td>
                          <a class="client-link">{{$index + 1}}</a>
                        </td>
                        <td>{{branch.name}}</td>
                        <td>{{branch.location}}</td>
                        <td>{{branch.date_created | date}}</td>
                        <td>{{branch.branch_type}}</td>
                        <td>{{branch.phone}}</td>
                        <td>{{branch.email}}</td>
                        <td>
                          <a ng-click="vm.editBranch(branch)">
                            <i class="fa fa-edit"></i>
                            EDIT
                          </a>
                          <a ng-click="vm.editBranch(branch)">
                            <i class="fa fa-trash"></i>
                            DEL
                          </a>
                        </td>
                      </tr>
                    </tbody>
                  </table>


                </div>

              </div>
            </div>
          </uib-tab>
        </uib-tabset>

      </div>
    </div>
  </div>
</div>
