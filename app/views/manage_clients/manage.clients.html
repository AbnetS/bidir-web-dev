

<h3>Clients Management
    <small>Manage clients information.</small>
</h3>

<!-- ngRepeat + ngResource-->
<div class="panel panel-default">
    <div class="panel-heading">All Clients</div>
    <div class="panel-body">
        <!--<h2>You do not have the necessary permission to view clients list.</h2>-->
        <div class="row" userpermission="['CLIENT_MANAGEMENT_CLIENT_VIEW_ALL','CLIENT_MANAGEMENT_CLIENT_VIEW']">
            <div class="col-lg-12">


                <md-toolbar   class="md-table-toolbar md-default">

                    <div class="md-toolbar-tools">
                        <md-button class="md-icon-button" ng-click="vm.search()">
                            <i class="fa fa-search"></i>
                        </md-button>

                        <!-- Input Text -->
                        <md-input-container flex>
                            <input id="search-input" type="text" ng-model="vm.request.Search"/>
                        </md-input-container>

                        <md-button class="md-icon-button" ng-click="vm.clearSearch()">
                            <i class="fa fa-times"></i>
                        </md-button>
                    </div>
                </md-toolbar>

                <md-table-container>
                    <table md-table md-progress="promise" class="table-hover">
                        <thead md-head class="bg-grey md-head">
                        <tr md-row>
                            <th md-column style="width:3%;"><span> No</span></th>
                            <th md-column ></th>
                            <th md-column ><span>Full Name</span></th>
                            <th md-column ><span>Gender</span></th>
                            <th md-column  ><span>DOB</span></th>
                            <th md-column  ><span>Civil Status</span></th>
                            <th md-column><span>Branch</span></th>
                            <th md-column><span>Status</span></th>
                            <th md-column>Action</th>
                        </tr>
                        </thead>

                        <tbody md-body>
                        <tr md-row ng-repeat="client in vm.clients">

                            <td md-cell>{{$index + 1}}</td>
                            <td>
                                <div class="media">
                                <img class="img-responsive img-circle thumb32"
                                     ng-src="{{client.picture}}"
                                     src="/app/img/user/02.jpg"
                                     alt="Client Picture">
                                </div>
                            </td>
                            <td md-cell>
                                {{ client.first_name }} {{ client.last_name }} {{client.grandfather_name}}
                            </td>
                            <td md-cell >{{client.gender}}</td>
                            <td md-cell >{{client.date_of_birth | date }}</td>
                            <td md-cell>{{client.civil_status}}</td>
                            <td md-cell>{{client.branch.name }}</td>
                            <td md-cell>{{client.status | ReplaceUnderscore}}</td>

                            <td md-cell>
                                <a ng-click="vm.clientDetail(client,$event)">
                                   <i class="fa fa-eye"></i>
                                </a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </md-table-container>

                <!--<md-table-pagination   md-total="{{vm.clientsCount}}"></md-table-pagination>-->
            </div>
        </div>
    </div>
</div>
