<form form-wizard="" action="/" method="POST" steps="4">
   <div class="form-wizard">
      <!-- START Wizard Step inputs-->
      <div ng-show="wizard.active(1)">
         <legend>1. Preliminary Information</legend>
         <fieldset>
            <div class="form-group clearfix">
               <label class="col-md-2 control-label">Loan Product</label>
               <div class="col-md-10 controls">
                  <ui-select ng-model="vm.clientAcat.loan_product" theme="bootstrap" title="Choose Loan Product">
                     <ui-select-match placeholder="Select loan product from the list...">
                        {{$select.selected.name}}
                     </ui-select-match>
                     <ui-select-choices repeat="loan_product in vm.loanProducts | filter: $select.search">
                        <span ng-bind-html="loan_product.name | highlight: $select.search"></span>
                     </ui-select-choices>
                  </ui-select>
               </div>
            </div>
            <br>
            <div class="form-group clearfix">
               <label class="col-md-2 control-label">Type of Crops</label>
               <div class="col-md-10 controls">
                  <ui-select ng-model="vm.clientAcat.crop" theme="bootstrap" title="Choose Crops">
                     <ui-select-match placeholder="Select crops from the list...">
                        {{$select.selected.name}} - {{$select.selected.category}}
                     </ui-select-match>
                     <ui-select-choices repeat="crop in vm.crops | filter: $select.search">
                        <span ng-bind-html="crop.name + ' - ' + crop.category | highlight: $select.search"></span>
                     </ui-select-choices>
                  </ui-select>
               </div>
            </div>
            <br>
            <div class="form-group clearfix">
               <label class="col-md-2 control-label">Cropping Area</label>
               <div class="col-md-10 controls">
                  <input class=" form-control" ng-model="vm.clientAcat.cropping_area_size" type="text" name="cropping_area" placeholder="cropping area per ha.." />
               </div>
            </div>
            <br>
            <div class="form-group clearfix">
               <label class="col-md-2 control-label">First Expense Month</label>
               <div class="col-md-10 controls">
                  <ui-select ng-model="vm.clientAcat.first_expense_month" theme="bootstrap" title="Choose month">
                     <ui-select-match placeholder="Select month from the list...">
                        {{$select.selected.name}}
                     </ui-select-match>
                     <ui-select-choices repeat="month.name as month in vm.months | filter: $select.search">
                        <span ng-bind-html="month.name  | highlight: $select.search"></span>
                     </ui-select-choices>
                  </ui-select>
               </div>
            </div>
            <br/>
            <div class="form-group clearfix">
               <label class="col-md-2 control-label">GPS Location</label>

               <div class="col-md-6">
                  <table class="table table-bordered table-condensed">
                     <thead>
                        <tr>
                           <th>(Latitude,Longitude)</th>
                           <th></th>
                           <th></th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr>
                           <td>
                              <span>10000,10000</span>
                           </td>
                           <td>
                              <button class="btn btn-info btn-xs">
                                 <i class="fa fa-edit"></i> Edit
                              </button>
                           </td>
                           <td>
                              <button class="btn btn-danger btn-xs">
                                 <i class="fa fa-times"></i> Remove
                              </button>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>

               <div class="col-md-4 controls">
                  <md-checkbox ng-model="isChecked" aria-label="Finished?">
                     Access to non financial resources ?
                  </md-checkbox>
               </div>

            </div>

         </fieldset>
         <ul class="pager">
            <li class="next"><a href="" ng-click="wizard.go(2)">Next<span>&rarr;</span></a>
            </li>
         </ul>
      </div>
      <!-- END Wizard Step inputs-->

      <!-- START Wizard Step inputs-->
      <div ng-show="wizard.active(2)">
         <legend>2. Cost Estimation</legend>
         <fieldset>
            <div class="row">
               <div class="col-sm-2 background-white">
                  <md-list flex>
                     <div ng-repeat="sub_section in vm.clientAcat.sections[0].sub_sections">
                        <md-list-item class="border-primary" ng-click="vm.onSubsectionClick(sub_section)">
                           <span flex>{{sub_section.title}}</span>
                           <i class="fa fa-angle-right" ng-show="sub_section.sub_sections.length > 0 && !vm.toggle[sub_section._id]"></i>
                           <i class="fa fa-angle-down" ng-show="sub_section.sub_sections.length > 0 && vm.toggle[sub_section._id]"></i>
                        </md-list-item>
                        <md-list-item class="m-xs" ng-repeat="sb in sub_section.sub_sections" ng-click="vm.onSubsectionClick(sb)" ng-show="vm.toggle[sub_section._id]">
                           <span flex-offset="5">{{sb.title}}</span>
                        </md-list-item>
                     </div>

                  </md-list>
               </div>
               <div class="col-sm-10 pr0 background-white">
                  <div class="row mr0">
                     <uib-accordion close-others="true">
                        <div uib-accordion-group="uib-accordion-group" ng-repeat-start="costlist in vm.selectedSubsection.cost_list.linear" ng-if="$first" is-open="accordionToggle[costlist._id]" ng-init="accordionToggle[costlist._id] = true" panel-class="b">
                           <uib-accordion-heading>{{$index + 1}}. {{costlist.item}}
                              <small class="label label-success pull-right">
                                 <em am-time-ago="costlist.last_modified"></em>
                              </small>
                           </uib-accordion-heading>
                           <div>
                              <cost-list cost-list-data="costlist"></cost-list>
                           </div>
                        </div>
                        <div uib-accordion-group="uib-accordion-group" ng-repeat-end is-open="accordionToggle[costlist._id]" ng-if="!$first" panel-class="b">
                           <uib-accordion-heading>{{$index + 1}}. {{costlist.item}}
                              <small class="label label-success pull-right">
                                 <em am-time-ago="costlist.last_modified"></em>
                              </small>
                           </uib-accordion-heading>
                           <div>
                              <cost-list cost-list-data="costlist"></cost-list>
                           </div>
                        </div>
                     </uib-accordion>

                     <div class="panel b text-center">
                        <div class="panel-body">
                           <div class="col-md-2">
                              <h5 class="m0">{{vm.selectedSubsection.title}}</h5>
                           </div>
                           <div class="col-xs-4 col-md-4">
                              <h5 class="m0">
                                 <strong>Estimated Sub Total:</strong>&nbsp;&nbsp; {{vm.selectedSubsection.estimated_sub_total | number}}</h5>
                           </div>
                           <div class="col-xs-4 col-md-4">
                              <h5 class="m0">
                                 <strong>Actual Total Cost:</strong>&nbsp;&nbsp; {{vm.selectedSubsection.achieved_sub_total| number}}</h5>
                           </div>
                           <div class="col-md-2">
                              <a class="m0 btn btn-sm btn-default"> Cash flow detail... </a>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
            <div class="panel b text-center">
               <div class="panel-body bt">
                  <div class="row row-table">
                     <div class="col-xs-4">
                        <h3 class="m0">{{vm.clientAcat.sections[0].estimated_sub_total | number}}</h3>
                        <p class="m0">
                           <span>Estimated Total Cost</span>
                        </p>
                     </div>
                     <div class="col-xs-8 br">
                        <h3 class="m0">{{vm.clientAcat.sections[0].achieved_sub_total| number}}</h3>
                        <p class="m0">Actual Total Cost</p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="panel b text-center">
               <div class="panel-body">
                  <div class="row">
                     <div class="col-md-12 br">
                        <label class="text-bold text-gray-darker">Net Cash Flow (Estimated)</label>
                     </div>
                     <!--MONTHS-->
                     <div class="col-md-12">
                        <div ng-repeat="(key, value) in vm.clientAcat.sections[0].estimated_cash_flow" class="col-xs-1 br">
                           <small class="center-block">{{key | uppercase}}</small>
                           <strong>{{value | number}}</strong>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </fieldset>
         <ul class="pager">
            <li class="previous">
               <a href="" ng-click="wizard.go(1)">
                  <span>&larr; Previous</span>
               </a>
            </li>
            <li class="next"><a href="" ng-click="wizard.go(3)">Next<span>&rarr;</span></a>
            </li>
         </ul>
      </div>
      <!-- END Wizard Step inputs-->

      <!-- START Wizard Step inputs-->
      <div ng-show="wizard.active(3)">
         <legend>3. Estimated Yield</legend>
         <fieldset>
            <h1>All the content here are related to Revenue</h1>
         </fieldset>

         <ul class="pager">
            <li class="previous">
               <a href="" ng-click="wizard.go(2)">
                  <span>&larr; Previous</span>
               </a>
            </li>
            <li class="next"><a href="" ng-click="wizard.go(4)">Next<span>&rarr;</span></a>
            </li>
         </ul>
      </div>
      <!-- END Wizard Step inputs-->

      <!-- START Wizard Step inputs-->
      <div ng-show="wizard.active(4)">
         <legend>4. Loan Proposal</legend>
         <fieldset>
            <div class="form-group">
               <h1>Summary Loan Proposal</h1>
            </div>

            <div class="form-group pull-right">
               <a class="btn btn-sm  btn-default" ng-click="save()"> <i class="fa fa-save"> </i> Save</a>
               <a class="btn btn-sm btn-info" ng-click="save()"><i class="fa fa-save"> </i> Submit</a>
               <a class="btn btn-sm btn-success" ng-click="save()"> <i class="fa fa-save"> </i> Approve</a>
            </div>
         </fieldset>
         <ul class="pager">
            <li class="previous">
               <a href="" ng-click="wizard.go(3)">
                  <span>&larr; Previous</span>
               </a>
            </li>

         </ul>
      </div>
      <!-- END Wizard Step inputs-->
   </div>
</form>