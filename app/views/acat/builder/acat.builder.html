<h3>Manage ACATs
    <small>Build ACAT forms.</small>
</h3>

<div class="panel panel-default">
    <div class="panel-body">

        <div class="row">
            <div class="col-lg-12">
                <div class="col-xs-10 col-sm-4 col-md-4 col-lg-4">
                    <label class="control-label small">Crop</label>
                    <span class="control-label required" aria-required="true"> * </span>
                    <ui-select ng-model="vm.acat.selected_crop"
                               theme="select2"
                               title="Choose crop"
                               ng-change="vm.cropSelectChanged()">
                        <ui-select-match placeholder="Select crop from the list...">
                            {{$select.selected.name}} - {{$select.selected.category}}
                        </ui-select-match>
                        <ui-select-choices repeat="crop in vm.crops | filter: $select.search">
                            <span ng-bind-html="crop.name | highlight: $select.search"></span>
                            <small>
                                <span ng-bind-html="''+crop.category | highlight: $select.search"></span>
                            </small>
                        </ui-select-choices>
                    </ui-select>
                </div>
                <div class="col-xs-10 col-sm-8 col-md-8 col-lg-8">
                </div>
            </div>
            <div class="col-lg-12"></div>
            <div class="col-lg-12" block-ui="ACATBuilderBlockUI">
                <md-tabs md-dynamic-height="" md-border-bottom="">
                    <md-tab label="INPUT">
                        <md-content class="md-padding">

                            <!--SEED SECTION-->
                            <div class="row">
                                <div class="col-md-12 bg-success text-left text-uppercase">
                                    <h5 class="">Seed</h5>
                                </div>

                              <!--Title-->
                                <div class="col-xs-10 col-sm-12 col-md-12 col-lg-12">
                                    <h5>Variety</h5>
                                    <h5>Seed Source (Union,Factory/Institution, Trader )</h5>
                                </div>

                                <!-- START SEED ROW-->
                                <div class="col-xs-10 col-sm-12 col-md-12 col-lg-12">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>Item</label>
                                            <input class="form-control"
                                                   ng-model="vm.acat.input.seed.item"
                                                   type="text"
                                                   name="seed_item" placeholder="Item" />
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>Unit</label>
                                            <input class="form-control"
                                                   ng-model="vm.acat.input.seed.unit"
                                                   keypress-enter="vm.addToCostList(vm.acat.input.seed,'SEED')"
                                                   type="text"
                                                   name="seed_unit" placeholder="unit" />
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <br/>
                                        <button ng-show="vm.isEditSeedCost" class="btn btn-inverse btn-outline"
                                                ng-click="vm.cancelCostItem('SEED')">
                                            <i class="fa fa-times"></i> Cancel
                                            </button>
                                        <button class="btn btn-success btn-outline" ng-click="vm.addToCostList(vm.acat.input.seed,'SEED')">
                                            <i ng-class="vm.isEditSeedCost?'fa fa-refresh':'fa fa-plus'" class="fa fa-plus"></i>
                                            {{vm.isEditSeedCost?'Update':'Add'}}</button>
                                    </div>
                                    <!-- ITEMS LIST-->
                                    <div ng-show="vm.acat.seed_costs.linear.length>0"
                                         class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                        <div class="table-responsive">
                                            <table class="table table-bordered">
                                                <thead>
                                                <tr class="bg-inverse-light">
                                                    <th>#</th>
                                                    <th>Item</th>
                                                    <th>Unit</th>
                                                    <th>Action</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr ng-repeat="cost in vm.acat.seed_costs.linear">
                                                    <td>{{$index + 1}}</td>
                                                    <td>{{cost.item}}</td>
                                                    <td>{{cost.unit}}</td>
                                                    <td>
                                                        <a class="btn btn-xs btn-outline btn-default"
                                                           ng-click="vm.editCostItem(cost,'SEED')">
                                                            <i class="fa fa-edit"></i>
                                                        </a>
                                                        <a  class="btn btn-xs btn-outline btn-danger"
                                                            ng-click="vm.removeCostItem(cost,'SEED')">
                                                            <i class="fa fa-times"></i>
                                                        </a>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="col-lg-12"><p></p></div>
                                </div>
                                <!-- END SEED ROW-->
                            </div>

                            <!--FERTILIZERS SECTION-->
                            <div class="row">
                                <div class="col-md-12 bg-success text-left text-uppercase">
                                    <h5 class="">Fertilizers</h5>
                                </div>
                                <!--Fertilizer LIST TYPE-->
                                <div class="col-xs-10 col-sm-12 col-md-12 col-lg-12">
                                    <md-input-container class="md-block">
                                        <md-radio-group id="fertilizerListType"
                                                        name="fertilizerListType"
                                                        layout="row"
                                                        ng-change="vm.onCostListTypeChange('FERTILIZER',vm.acat.fertilizer_costs)"
                                                        ng-model="vm.acat.fertilizer.list_type" >
                                            <md-radio-button value="linear">
                                                Linear List </md-radio-button>
                                            <md-radio-button value="grouped" >
                                                Grouped List</md-radio-button>
                                        </md-radio-group>
                                    </md-input-container>
                                </div>

                                <!-- START FERTILIZER ROW-->
                                <div ng-if="vm.acat.fertilizer.list_type==='linear'"
                                     class="col-xs-10 col-sm-12 col-md-12 col-lg-12">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>Item</label>
                                            <input class="form-control"
                                                   type="text"
                                                   name="item"
                                                   ng-model="vm.acat.fertilizer.item"
                                                   placeholder="Item" />
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>Unit</label>
                                            <input class="form-control" type="text"
                                                   name="unit"
                                                   ng-model="vm.acat.fertilizer.unit"
                                                   keypress-enter="vm.addToCostList(vm.acat.fertilizer,'FERTILIZER')"
                                                   placeholder="unit" />
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <br/>
                                        <button ng-show="vm.isEditFertilizerCost" class="btn btn-inverse btn-outline"
                                                ng-click="vm.cancelCostItem('FERTILIZER')">
                                            <i class="fa fa-times"></i>
                                        </button>
                                        <button class="btn btn-success btn-outline" ng-click="vm.addToCostList(vm.acat.fertilizer,'FERTILIZER')">
                                            <i ng-class="vm.isEditFertilizerCost?'fa fa-refresh':'fa fa-plus'" class="fa fa-plus"></i>
                                            {{vm.isEditFertilizerCost?'Update':'Add'}}</button>
                                    </div>
                                </div>
                                <!--IF LIST IS GROUPED-->
                                <div ng-if="vm.acat.fertilizer.list_type==='grouped'">
                                    <div class="col-xs-10 col-sm-12 col-md-12 col-lg-12">
                                        <div class="col-md-5">
                                            <md-input-container class="md-block">
                                                <md-switch class="md-warm" name="fertilizerCostGroupSwitch"
                                                           ng-model="vm.acat.fertilizer.existing_group"
                                                           required>
                                                    Add to Existing Group
                                                </md-switch>
                                            </md-input-container>
                                        </div>
                                        <div class="col-md-6">
                                            <div ng-show="!vm.acat.fertilizer.existing_group || (vm.acat.fertilizer.existing_group && vm.isEditCostGroup)"
                                                 class="form-group">
                                                <label>Group</label>

                                                <div class="input-group">
                                                    <input class="form-control" type="text"
                                                           ng-model="vm.acat.fertilizer.title"
                                                           name="item" placeholder="Group Name" />
                                                    <span class="input-group-btn">
                                                         <button class="btn btn-success btn-outline"
                                                                 ng-click="vm.addGroupOnSection(vm.acat.fertilizer,'FERTILIZER')">
                                                                {{vm.isEditCostGroup?'Update Group':'Add Group'}}
                                                            </button>
                                                    </span>
                                                </div>
                                            </div>
                                            <div ng-show="vm.acat.fertilizer.existing_group && !vm.isEditCostGroup">
                                                <label>Group</label>
                                                <div class="form-group">
                                                    <ui-select ng-model="vm.acat.fertilizer.selected_group"
                                                               theme="select2"
                                                               title="Choose Group">
                                                        <ui-select-match placeholder="Select Group from the list...">
                                                            {{$select.selected.title}}
                                                        </ui-select-match>
                                                        <ui-select-choices repeat="groupItem in vm.acat.fertilizer_costs.grouped">
                                                            <span ng-bind-html="groupItem.title | highlight: $select.search"></span>
                                                        </ui-select-choices>
                                                    </ui-select>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-10 col-sm-12 col-md-12 col-lg-12">
                                        <div class="col-md-5">
                                            <div class="form-group">
                                                <label>Item</label>
                                                <input class="form-control" type="text"
                                                       ng-model="vm.acat.fertilizer.item"
                                                       name="item" placeholder="Item" />
                                            </div>
                                        </div>
                                        <div class="col-md-5">
                                            <div class="form-group">
                                                <label>Unit</label>
                                                <input class="form-control" type="text"
                                                       ng-model="vm.acat.fertilizer.unit"
                                                       keypress-enter="vm.addGroupedCostList(vm.acat.fertilizer,'FERTILIZER')"
                                                       name="unit" placeholder="unit" />
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <br/>
                                            <button class="btn btn-success btn-outline"
                                                    ng-click="vm.addGroupedCostList(vm.acat.fertilizer,'FERTILIZER')">
                                                {{vm.isEditFertilizerCost?'Update':'Add'}}
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <!-- END FERTILIZER ROW-->

                                <!-- ITEMS TABLE-->
                                <div ng-show="vm.acat.fertilizer.list_type==='linear'"
                                     class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                    <div class="table-responsive">
                                        <table class="table table-bordered">
                                            <thead>
                                            <tr class="bg-inverse-light">
                                                <th>#</th>
                                                <th>Item</th>
                                                <th>Unit</th>
                                                <th>Action</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr ng-repeat="cost in vm.acat.fertilizer_costs.linear">
                                                <td>{{$index + 1}}</td>
                                                <td>{{cost.item}}</td>
                                                <td>{{cost.unit}}</td>
                                                <td>
                                                    <a class="btn btn-xs btn-outline btn-default"
                                                       ng-click="vm.editCostItem(cost,'FERTILIZER')">
                                                        <i class="fa fa-edit"></i>
                                                    </a>
                                                    <a  class="btn btn-xs btn-outline btn-danger"
                                                        ng-click="vm.removeCostItem(cost,'FERTILIZER')">
                                                        <i class="fa fa-times"></i>
                                                    </a>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <!--ITEM TABLE FOR GROUPED-->
                                <div ng-show="vm.acat.fertilizer.list_type==='grouped'"
                                     class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                    <div class="table-responsive">
                                        <table class="table table-bordered"
                                               ng-repeat="groupItem in vm.acat.fertilizer_costs.grouped">
                                            <thead>
                                            <tr class="text-center text-uppercase text-inverse">
                                                <th colspan="4">{{groupItem.title}}
                                                    <a class="btn btn-xs btn-outline btn-default"
                                                       ng-click="vm.editGroupSection(groupItem,'FERTILIZER')">
                                                        <i class="fa fa-edit"></i>
                                                    </a>
                                                    <a  class="btn btn-xs btn-outline btn-danger"
                                                        ng-click="vm.removeGroupSection(groupItem,'FERTILIZER')">
                                                        <i class="fa fa-times"></i>
                                                    </a>
                                                </th>
                                            </tr>
                                            <tr class="bg-inverse-light">
                                                <th>#</th>
                                                <th>Item</th>
                                                <th>Unit</th>
                                                <th>Action</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr ng-repeat="cost in groupItem.items">
                                                <td>{{$index + 1}}</td>
                                                <td>{{cost.item}}</td>
                                                <td>{{cost.unit}}</td>
                                                <td>
                                                    <a class="btn btn-xs btn-outline btn-default"
                                                       ng-click="vm.editGroupCostItem(cost,'FERTILIZER',groupItem)">
                                                        <i class="fa fa-edit"></i>
                                                    </a>
                                                    <a  class="btn btn-xs btn-outline btn-danger"
                                                        ng-click="vm.removeCostItemGrouped(cost,'FERTILIZER',groupItem)">
                                                        <i class="fa fa-times"></i>
                                                    </a>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                <div class="col-lg-12"><p></p></div>

                            </div>

                            <!--CHEMICALS SECTION-->
                            <div class="row">
                                <div class="col-md-12 bg-success text-left text-uppercase">
                                    <h5 class="">Chemicals</h5>
                                </div>
                                <!--COST LIST-->
                                <div class="col-xs-10 col-sm-12 col-md-12 col-lg-12">
                                    <md-input-container class="md-block">
                                        <md-radio-group id="ChemicalsListType" layout="row"
                                                        ng-model="vm.acat.chemicals.list_type"
                                                        ng-change="vm.onCostListTypeChange('CHEMICALS',vm.acat.chemicals_costs)">
                                            <md-radio-button value="linear">
                                                Linear List </md-radio-button>
                                            <md-radio-button value="grouped" >
                                                Grouped List</md-radio-button>
                                        </md-radio-group>
                                    </md-input-container>
                                </div>

                                <!-- START CHEMICALS ROW-->
                                <div ng-show="vm.acat.chemicals.list_type==='linear'"
                                     class="col-xs-10 col-sm-12 col-md-12 col-lg-12">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>Item</label>
                                            <input class="form-control" type="text"
                                                   ng-model="vm.acat.chemicals.item"
                                                   name="item" placeholder="Item" />
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>Unit</label>
                                            <input class="form-control" type="text"
                                                   ng-model="vm.acat.chemicals.unit"
                                                   keypress-enter="vm.addToCostList(vm.acat.chemicals,'CHEMICALS')"
                                                   name="unit" placeholder="unit" />
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <br/>
                                        <button class="btn btn-success btn-outline"
                                                ng-click="vm.addToCostList(vm.acat.chemicals,'CHEMICALS')">
                                            <i ng-class="vm.isEditChemicalsCost?'fa fa-refresh':'fa fa-plus'" class="fa fa-plus"></i>
                                            {{vm.isEditChemicalsCost?'Update':'Add'}}</button>
                                    </div>
                                </div>
                                <!--IF LIST IS GROUPED-->
                                <div ng-show="vm.acat.chemicals.list_type==='grouped'">
                                    <div class="col-xs-10 col-sm-12 col-md-12 col-lg-12">
                                        <div class="col-md-4">
                                            <md-input-container class="md-block">
                                                <md-switch class="md-warm" name="chemicalsGroupSwitch"
                                                           ng-model="vm.acat.chemicals.existing_group"
                                                           required>
                                                    Add to Existing Group
                                                </md-switch>
                                            </md-input-container>
                                        </div>
                                        <div class="col-md-4">
                                            <div ng-show="!vm.acat.chemicals.existing_group || (vm.acat.chemicals.existing_group && vm.isEditCostGroup)"
                                                 class="form-group">
                                                <label>Group</label>

                                                <div class="input-group">
                                                    <input class="form-control" type="text"
                                                           ng-model="vm.acat.chemicals.title"
                                                           name="item" placeholder="Group Name" />
                                                    <span class="input-group-btn">
                                                         <button class="btn btn-success btn-outline"
                                                                 ng-click="vm.addGroupOnSection(vm.acat.chemicals,'CHEMICALS')">
                                                                {{vm.isEditCostGroup?'Update Group':'Add Group'}}
                                                            </button>
                                                    </span>
                                                </div>
                                            </div>
                                            <div ng-show="vm.acat.chemicals.existing_group  && !vm.isEditCostGroup">
                                                <label>Group</label>
                                                <div class="form-group">
                                                    <ui-select ng-model="vm.acat.chemicals.selected_group"
                                                               theme="select2"
                                                               title="Choose Chemical Group">
                                                        <ui-select-match placeholder="Select Group from the list...">
                                                            {{$select.selected.title}}
                                                        </ui-select-match>
                                                        <ui-select-choices repeat="groupItem in vm.acat.chemicals_costs.grouped">
                                                            <span ng-bind-html="groupItem.title | highlight: $select.search"></span>
                                                        </ui-select-choices>
                                                    </ui-select>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-10 col-sm-12 col-md-12 col-lg-12">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>Item</label>
                                                <input class="form-control" type="text"
                                                       ng-model="vm.acat.chemicals.item"
                                                       name="item" placeholder="Item" />
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>Unit</label>
                                                <input class="form-control" type="text"
                                                       ng-model="vm.acat.chemicals.unit"
                                                       keypress-enter="vm.addGroupedCostList(vm.acat.chemicals,'CHEMICALS')"
                                                       name="unit" placeholder="unit" />
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <br/>
                                            <button class="btn btn-success btn-outline"
                                                    ng-click="vm.addGroupedCostList(vm.acat.chemicals,'CHEMICALS')">
                                                {{vm.isEditChemicalsCost?'Update':'Add'}}
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <!-- END CHEMICALS ROW-->

                                <!-- ITEMS TABLE-->
                                <div ng-show="vm.acat.chemicals.list_type==='grouped'"
                                     class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
                                    <div class="table-responsive">
                                        <table class="table table-bordered"
                                               ng-repeat="groupItem in vm.acat.chemicals_costs.grouped">
                                            <thead>
                                            <tr class="text-center text-uppercase text-inverse">
                                                <th colspan="4">{{groupItem.title}}
                                                    <a class="btn btn-xs btn-outline btn-default"
                                                       ng-click="vm.editGroupSection(groupItem,'CHEMICALS')">
                                                        <i class="fa fa-edit"></i>
                                                    </a>
                                                    <a  class="btn btn-xs btn-outline btn-danger"
                                                        ng-click="vm.removeGroupSection(groupItem,'CHEMICALS')">
                                                        <i class="fa fa-times"></i>
                                                    </a>
                                                </th>
                                            </tr>
                                            <tr class="bg-inverse-light">
                                                <th>#</th>
                                                <th>Item</th>
                                                <th>Unit</th>
                                                <th>Action</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr ng-repeat="cost in groupItem.items">
                                                <td>{{$index + 1}}</td>
                                                <td>{{cost.item}}</td>
                                                <td>{{cost.unit}}</td>
                                                <td>
                                                    <a class="btn btn-xs btn-outline btn-default"
                                                            ng-click="vm.editGroupCostItem(cost,'CHEMICALS',groupItem)">
                                                        <i class="fa fa-edit"></i>
                                                    </a>
                                                    <a  class="btn btn-xs btn-outline btn-danger"
                                                        ng-click="vm.removeCostItemGrouped(cost,'CHEMICALS',groupItem)">
                                                        <i class="fa fa-times"></i>
                                                    </a>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <!--ITEM TABLE FOR LINEAR-->
                                <div ng-show="vm.acat.chemicals.list_type==='linear'">
                                    <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
                                        <div class="table-responsive">
                                            <table class="table table-bordered">
                                                <thead>
                                                <tr class="bg-inverse-light">
                                                    <th>#</th>
                                                    <th>Item</th>
                                                    <th>Unit</th>
                                                    <th>Action</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr ng-repeat="cost in vm.acat.chemicals_costs.linear">
                                                    <td>{{$index + 1}}</td>
                                                    <td>{{cost.item}}</td>
                                                    <td>{{cost.unit}}</td>
                                                    <td>
                                                        <a class="btn btn-xs btn-outline btn-default"
                                                           ng-click="vm.editCostItem(cost,'CHEMICALS')">
                                                            <i class="fa fa-edit"></i>
                                                        </a>
                                                        <a  class="btn btn-xs btn-outline btn-danger"
                                                            ng-click="vm.removeCostItem(cost,'CHEMICALS')">
                                                            <i class="fa fa-times"></i>
                                                        </a>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-12"><p></p></div>
                            </div>
                        </md-content>
                    </md-tab>

                    <md-tab label="LABOUR COSTS">
                        <md-content class="md-padding">
                            <!--LABOUR COST SECTION-->
                            <div class="row">
                                <div class="col-md-12 bg-success text-left text-uppercase">
                                    <h5 class="">Labour Cost</h5>
                                </div>
                                <!--COST LIST-->
                                <div class="col-xs-10 col-sm-12 col-md-12 col-lg-12">
                                    <md-input-container class="md-block">
                                        <md-radio-group id="LabourListType" layout="row"
                                                        ng-model="vm.acat.labour_cost.list_type"
                                                        ng-change="vm.onCostListTypeChange('LABOUR_COST',vm.acat.labour_costs)">
                                            <md-radio-button value="linear">
                                                Linear List </md-radio-button>
                                            <md-radio-button value="grouped" >
                                                Grouped List</md-radio-button>
                                        </md-radio-group>
                                    </md-input-container>
                                </div>

                                <!-- START INPUT SECTION-->
                                <div ng-show="vm.acat.labour_cost.list_type==='linear'"
                                     class="col-xs-10 col-sm-12 col-md-12 col-lg-12">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>Item</label>
                                            <input class="form-control" type="text"
                                                   ng-model="vm.acat.labour_cost.item"
                                                   name="item" placeholder="Item" />
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>Unit</label>
                                            <input class="form-control" type="text"
                                                   ng-model="vm.acat.labour_cost.unit"
                                                   keypress-enter="vm.addToCostList(vm.acat.labour_cost,'LABOUR_COST')"
                                                   name="unit" placeholder="unit" />
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <br/>
                                        <button class="btn btn-success btn-outline"
                                                ng-click="vm.addToCostList(vm.acat.labour_cost,'LABOUR_COST')">
                                            <i ng-class="vm.isEditLabourCost?'fa fa-refresh':'fa fa-plus'" class="fa fa-plus"></i>
                                            {{vm.isEditLabourCost?'Update':'Add'}}</button>
                                    </div>
                                </div>

                                <div ng-show="vm.acat.labour_cost.list_type==='grouped'">
                                    <div class="col-xs-10 col-sm-12 col-md-12 col-lg-12">
                                        <div class="col-md-4">
                                            <md-input-container class="md-block">
                                                <md-switch class="md-warm" name="labourCostGroupSwitch"
                                                           ng-model="vm.acat.labour_cost.existing_group"
                                                           required>
                                                    Add to Existing Group
                                                </md-switch>
                                            </md-input-container>
                                        </div>
                                        <div class="col-md-4">
                                            <div ng-show="!vm.acat.labour_cost.existing_group || (vm.acat.labour_cost.existing_group && vm.isEditCostGroup)"
                                                 class="form-group">
                                                <label>Group</label>

                                                <div class="input-group">
                                                    <input class="form-control" type="text"
                                                           ng-model="vm.acat.labour_cost.title"
                                                           name="item" placeholder="Group Name" />
                                                    <span class="input-group-btn">
                                                         <button class="btn btn-success btn-outline"
                                                                 ng-click="vm.addGroupOnSection(vm.acat.labour_cost,'LABOUR_COST')">
                                                                {{vm.isEditCostGroup?'Update Group':'Add Group'}}
                                                            </button>
                                                    </span>
                                                </div>
                                            </div>
                                            <div ng-show="vm.acat.labour_cost.existing_group  && !vm.isEditCostGroup">
                                                <label>Group</label>
                                                <div class="form-group">
                                                    <ui-select ng-model="vm.acat.labour_cost.selected_group"
                                                               theme="select2"
                                                               title="Choose Group">
                                                        <ui-select-match placeholder="Select Group from the list...">
                                                            {{$select.selected.title}}
                                                        </ui-select-match>
                                                        <ui-select-choices repeat="groupItem in vm.acat.labour_costs.grouped">
                                                            <span ng-bind-html="groupItem.title | highlight: $select.search"></span>
                                                        </ui-select-choices>
                                                    </ui-select>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-10 col-sm-12 col-md-12 col-lg-12">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>Item</label>
                                                <input class="form-control" type="text"
                                                       ng-model="vm.acat.labour_cost.item"
                                                       name="item" placeholder="Item" />
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>Unit</label>
                                                <input class="form-control" type="text"
                                                       ng-model="vm.acat.labour_cost.unit"
                                                       keypress-enter="vm.addGroupedCostList(vm.acat.labour_cost,'LABOUR_COST')"
                                                       name="unit" placeholder="unit" />
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <br/>
                                            <button class="btn btn-success btn-outline"
                                                    ng-click="vm.addGroupedCostList(vm.acat.labour_cost,'LABOUR_COST')">
                                                {{vm.isEditLabourCost?'Update':'Add'}}
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- END INPUT SECTION -->

                                <!-- ITEMS TABLE-->
                                <div ng-show="vm.acat.labour_cost.list_type==='grouped'"
                                     class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
                                    <div class="table-responsive">
                                        <table class="table table-bordered"
                                               ng-repeat="groupItem in vm.acat.labour_costs.grouped">
                                            <thead>
                                            <tr class="text-center text-uppercase text-inverse">
                                                <th colspan="4">{{groupItem.title}}
                                                    <a class="btn btn-xs btn-outline btn-default"
                                                       ng-click="vm.editGroupSection(groupItem,'LABOUR_COST')">
                                                        <i class="fa fa-edit"></i>
                                                    </a>
                                                    <a  class="btn btn-xs btn-outline btn-danger"
                                                        ng-click="vm.removeGroupSection(groupItem,'LABOUR_COST')">
                                                        <i class="fa fa-times"></i>
                                                    </a>
                                                </th>
                                            </tr>
                                            <tr class="bg-inverse-light">
                                                <th>#</th>
                                                <th>Item</th>
                                                <th>Unit</th>
                                                <th>Action</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr ng-repeat="cost in groupItem.items">
                                                <td>{{$index + 1}}</td>
                                                <td>{{cost.item}}</td>
                                                <td>{{cost.unit}}</td>
                                                <td>
                                                    <a class="btn btn-xs btn-outline btn-default"
                                                       ng-click="vm.editGroupCostItem(cost,'LABOUR_COST',groupItem)">
                                                        <i class="fa fa-edit"></i>
                                                    </a>
                                                    <a  class="btn btn-xs btn-outline btn-danger"
                                                        ng-click="vm.removeCostItemGrouped(cost,'LABOUR_COST',groupItem)">
                                                        <i class="fa fa-times"></i>
                                                    </a>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <!--ITEM TABLE FOR LINEAR-->
                                <div ng-show="vm.acat.labour_cost.list_type==='linear'">
                                    <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
                                        <div class="table-responsive">
                                            <table class="table table-bordered">
                                                <thead>
                                                <tr class="bg-inverse-light">
                                                    <th>#</th>
                                                    <th>Item</th>
                                                    <th>Unit</th>
                                                    <th>Action</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr ng-repeat="cost in vm.acat.labour_costs.linear">
                                                    <td>{{$index + 1}}</td>
                                                    <td>{{cost.item}}</td>
                                                    <td>{{cost.unit}}</td>
                                                    <td>
                                                        <a class="btn btn-xs btn-outline btn-default"
                                                           ng-click="vm.editCostItem(cost,'LABOUR_COST')">
                                                            <i class="fa fa-edit"></i>
                                                        </a>
                                                        <a  class="btn btn-xs btn-outline btn-danger"
                                                            ng-click="vm.removeCostItem(cost,'LABOUR_COST')">
                                                            <i class="fa fa-times"></i>
                                                        </a>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-12"><p></p></div>
                            </div>
                        </md-content>
                    </md-tab>
                    <md-tab label="OTHER COSTS">
                        <md-content class="md-padding">
                            <!--OTHER COST SECTION-->
                            <div class="row">
                                <div class="col-md-12 bg-success text-left text-uppercase">
                                    <h5 class="">Other Cost</h5>
                                </div>
                                <!--COST LIST-->
                                <div class="col-xs-10 col-sm-12 col-md-12 col-lg-12">
                                    <md-input-container class="md-block">
                                        <md-radio-group id="OtherListType" layout="row"
                                                        ng-model="vm.acat.other_cost.list_type"
                                                        ng-change="vm.onCostListTypeChange('OTHER_COST',vm.acat.other_costs)">
                                            <md-radio-button value="linear">
                                                Linear List </md-radio-button>
                                            <md-radio-button value="grouped" >
                                                Grouped List</md-radio-button>
                                        </md-radio-group>
                                    </md-input-container>
                                </div>

                                <!-- START INPUT SECTION-->
                                <div ng-show="vm.acat.other_cost.list_type==='linear'"
                                     class="col-xs-10 col-sm-12 col-md-12 col-lg-12">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>Item</label>
                                            <input class="form-control" type="text"
                                                   ng-model="vm.acat.other_cost.item"
                                                   name="item" placeholder="Item" />
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label>Unit</label>
                                            <input class="form-control" type="text"
                                                   ng-model="vm.acat.other_cost.unit"
                                                   keypress-enter="vm.addToCostList(vm.acat.other_cost,'OTHER_COST')"
                                                   name="unit" placeholder="unit" />
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <br/>
                                        <button class="btn btn-success btn-outline"
                                                ng-click="vm.addToCostList(vm.acat.other_cost,'OTHER_COST')">
                                            <i ng-class="vm.isEditOtherCost?'fa fa-refresh':'fa fa-plus'" class="fa fa-plus"></i>
                                            {{vm.isEditOtherCost?'Update':'Add'}}</button>
                                    </div>
                                </div>

                                <div ng-show="vm.acat.other_cost.list_type==='grouped'">
                                    <div class="col-xs-10 col-sm-12 col-md-12 col-lg-12">
                                        <div class="col-md-4">
                                            <md-input-container class="md-block">
                                                <md-switch class="md-warm" name="OtherCostGroupSwitch"
                                                           ng-model="vm.acat.other_cost.existing_group"
                                                           required>
                                                    Add to Existing Group
                                                </md-switch>
                                            </md-input-container>
                                        </div>
                                        <div class="col-md-4">
                                            <div ng-show="!vm.acat.other_cost.existing_group || (vm.acat.other_cost.existing_group && vm.isEditCostGroup)"
                                                 class="form-group">
                                                <label>Group</label>

                                                <div class="input-group">
                                                    <input class="form-control" type="text"
                                                           ng-model="vm.acat.other_cost.title"
                                                           name="item" placeholder="Group Name" />
                                                    <span class="input-group-btn">
                                                         <button class="btn btn-success btn-outline"
                                                                 ng-click="vm.addGroupOnSection(vm.acat.other_cost,'OTHER_COST')">
                                                                {{vm.isEditCostGroup?'Update Group':'Add Group'}}
                                                            </button>
                                                    </span>
                                                </div>
                                            </div>
                                            <div ng-show="vm.acat.other_cost.existing_group  && !vm.isEditCostGroup">
                                                <label>Group</label>
                                                <div class="form-group">
                                                    <ui-select ng-model="vm.acat.other_cost.selected_group"
                                                               theme="select2"
                                                               title="Choose Group">
                                                        <ui-select-match placeholder="Select Group from the list...">
                                                            {{$select.selected.title}}
                                                        </ui-select-match>
                                                        <ui-select-choices repeat="groupItem in vm.acat.other_costs.grouped">
                                                            <span ng-bind-html="groupItem.title | highlight: $select.search"></span>
                                                        </ui-select-choices>
                                                    </ui-select>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-10 col-sm-12 col-md-12 col-lg-12">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>Item</label>
                                                <input class="form-control" type="text"
                                                       ng-model="vm.acat.other_cost.item"
                                                       name="item" placeholder="Item" />
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>Unit</label>
                                                <input class="form-control" type="text"
                                                       ng-model="vm.acat.other_cost.unit"
                                                       keypress-enter="vm.addGroupedCostList(vm.acat.other_cost,'OTHER_COST')"
                                                       name="unit" placeholder="unit" />
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <br/>
                                            <button class="btn btn-success btn-outline"
                                                    ng-click="vm.addGroupedCostList(vm.acat.other_cost,'OTHER_COST')">
                                                {{vm.isEditOtherCost?'Update':'Add'}}
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <!-- END INPUT SECTION -->

                                <!-- ITEMS TABLE-->
                                <div ng-show="vm.acat.other_cost.list_type==='grouped'"
                                     class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
                                    <div class="table-responsive">
                                        <table class="table table-bordered"
                                               ng-repeat="groupItem in vm.acat.other_costs.grouped">
                                            <thead>
                                            <tr class="text-center text-uppercase text-inverse">
                                                <th colspan="4">{{groupItem.title}}
                                                    <a class="btn btn-xs btn-outline btn-default"
                                                       ng-click="vm.editGroupSection(groupItem,'OTHER_COST')">
                                                        <i class="fa fa-edit"></i>
                                                    </a>
                                                    <a  class="btn btn-xs btn-outline btn-danger"
                                                        ng-click="vm.removeGroupSection(groupItem,'OTHER_COST')">
                                                        <i class="fa fa-times"></i>
                                                    </a>
                                                </th>
                                            </tr>
                                            <tr class="bg-inverse-light">
                                                <th>#</th>
                                                <th>Item</th>
                                                <th>Unit</th>
                                                <th>Action</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr ng-repeat="cost in groupItem.items">
                                                <td>{{$index + 1}}</td>
                                                <td>{{cost.item}}</td>
                                                <td>{{cost.unit}}</td>
                                                <td>
                                                    <a class="btn btn-xs btn-outline btn-default"
                                                       ng-click="vm.editGroupCostItem(cost,'OTHER_COST',groupItem)">
                                                        <i class="fa fa-edit"></i>
                                                    </a>
                                                    <a  class="btn btn-xs btn-outline btn-danger"
                                                        ng-click="vm.removeCostItemGrouped(cost,'OTHER_COST',groupItem)">
                                                        <i class="fa fa-times"></i>
                                                    </a>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <!--ITEM TABLE FOR LINEAR-->
                                <div ng-show="vm.acat.other_cost.list_type==='linear'">
                                    <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
                                        <div class="table-responsive">
                                            <table class="table table-bordered">
                                                <thead>
                                                <tr class="bg-inverse-light">
                                                    <th>#</th>
                                                    <th>Item</th>
                                                    <th>Unit</th>
                                                    <th>Action</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr ng-repeat="cost in vm.acat.other_costs.linear">
                                                    <td>{{$index + 1}}</td>
                                                    <td>{{cost.item}}</td>
                                                    <td>{{cost.unit}}</td>
                                                    <td>
                                                        <a class="btn btn-xs btn-outline btn-default"
                                                           ng-click="vm.editCostItem(cost,'OTHER_COST')">
                                                            <i class="fa fa-edit"></i>
                                                        </a>
                                                        <a  class="btn btn-xs btn-outline btn-danger"
                                                            ng-click="vm.removeCostItem(cost,'OTHER_COST')">
                                                            <i class="fa fa-times"></i>
                                                        </a>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-12"><p></p></div>
                            </div>
                        </md-content>
                    </md-tab>
                </md-tabs>
            </div>
        </div>
    </div>
</div>